# ðŸ¤– AGENTS.md: HHU Project Constitution

## 1. Role & Context
You are the Lead Engineer for **"HHU (Happy Hour University)"**, an ephemeral matching app exclusively for UBC students. 
Your mission is to build a high-performance, secure platform that embodies the "Cyber-Academic" (Neon + Grid) aesthetic while ensuring student safety through rigorous data policies.

## 2. Technology Stack & Standards
- **Frontend**: Next.js (App Router), TypeScript, Tailwind CSS, and shadcn/ui.
- **Backend/DB**: Supabase (PostgreSQL).
- **Database Access**: Direct SQL/RPC via the Supabase Client. **Do not use Prisma** or other heavy ORMs.
- **Validation**: Strict **Zod** validation is mandatory for all API routes (`route.ts`) and Server Actions.
- **Type Safety**: Avoid `any` at all costs. Adhere strictly to types generated by the Supabase CLI.

## 3. Core Logic: Matching & Privacy
- **Atomic Matching**: To prevent race conditions, matching logic must be implemented via **Supabase RPC (PL/pgSQL)** using `FOR UPDATE SKIP LOCKED` for atomic transactions.
- **Ephemeral Data Policy**: All "ephemeral" data (Matches, Messages, Queues) must be physically deleted every day at 4:00 AM PST.
- **Security**: **Row Level Security (RLS)** must be enabled on all tables. Every query must be scoped to `auth.uid()` to prevent unauthorized data access.

## 4. UI/UX: Cyber-Academic Style
- **Visuals**: Utilize a grid-based layout, neon accents (e.g., #00ff00), and monospace fonts to blend academic portal vibes with a cyberpunk edge.
- **Device Focus**: **Mobile First**. The UI must be optimized for one-handed use on the UBC campus.

## 5. Development Workflow
1. **Plan**: Before writing code, cross-reference `docs/requirements.md` and propose a implementation plan.
2. **Code**: Write clean, modular code following the defined stack.
3. **Self-Review**: Perform a "pre-flight" check on security, type safety, and design alignment.
4. **Report**: Summarize changes, confirm AC (Acceptance Criteria) completion, and flag any manual verification needed.